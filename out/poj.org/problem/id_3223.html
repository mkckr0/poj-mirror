<html><head><meta content="no-cache" http-equiv="Pragma"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta content="en-US" http-equiv="Content-Language"/><title>3223 -- Football Game</title><link href="../poj.css" rel="stylesheet" type="text/css"/><link href="../poj.ico" rel="shortcut icon"/><link href="../poj.gif" rel="icon" type="image/gif"/><script language="javascript" src="../poj.js"></script></head><body alink="blue" lang="en-US" leftmargin="5" link="blue" onkeydown="KeyDown(event)" vlink="blue"><a name="top"></a><table border="1" bordercolor="#ffffff" style="BORDER-COLLAPSE: collapse" width="100%"><tbody><tr><td align="CENTER" colspan="5"><table cellpadding="0" class="h1"><tr><td align="left" width="25%"><img border="0" height="100" src="../images/logo1.jpg"/></td><td bgcolor="#EAEFFD" colspan="3"><table class="h2"><tr><td><img border="0" height="90" src="../images/logo0.gif" width="450"/></td><td width="95"><img border="0" height="95" src="../images/logo3.gif" width="95"/></td></tr></table></td></tr></table></td></tr><tr align="CENTER" bgcolor="#6589d1" valign="top"><th class="h">Online Judge</th><th class="h">Problem Set</th><th class="h">Authors</th><th class="h">Online Contests</th><th class="h">User</th></tr><tr align="CENTER" bgcolor="#f1f1fd" valign="top"><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><a href="http://poj.org/bbs">Web Board</a><br/><a href="../index.html">Home Page</a><br/><a href="../page/id_1000.html" target="_blank">F.A.Qs</a><br/><a href="http://poj.org/chart">Statistical Charts</a></td><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><form onsubmit="event.preventDefault(); let pid = (new FormData(event.target)).get('pid'); window.location=`../problem/id_${pid}.html`"><a href="../problemlist.html">Problems</a><br/><a href="http://poj.org/submit">Submit Problem</a><br/><a href="http://poj.org/status">Online Status</a><br/><font color="blue">Prob.ID:</font><input name="pid" size="6" type="text"/><input name="pb1" type="Submit" value="Go"/></form></td><td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="searchuser" method="GET"><a href="http://poj.org/register">Register</a><br/><a href="http://poj.org/modifyuser">Update your info</a><br/><a href="http://poj.org/userlist">Authors ranklist</a><br/><input name="key" size="10" type="text"/><input name="B1" type="Submit" value="Search"/></form></td>
<td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><font color="#1a5cc8">Current Contest</font><br/><a href="http://poj.org/pastcontests">Past Contests</a><br/><a href="http://poj.org/contests">Scheduled Contests</a><br/><a href="http://poj.org/challenge.html" target="_blank"><font color="red">Award Contest</font></a></td><td align="left" class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="login" method="POST"><table><tr><td>User ID:</td><td><input name="user_id1" size="10" style="font-family:monospace" type="text"/></td></tr><tr><td>Password:</td><td><input name="password1" size="10" style="font-family:monospace" type="password"/></td></tr></table><input name="B1" type="Submit" value="login"/>  <a href="http://poj.org/register" target="_parent">Register</a><input name="url" type="hidden" value="%2Fproblem%3Fid%3D3223"/></form></td></tr></tbody></table><table background="../images/table_back.jpg" border="0" width="100%"><tr><td>
<div style="position: absolute; right: 10px;">Language:<select onchange="window.location.href='problem?id=3223&amp;lang='+this.value+'&amp;change=true'" size="1"><option selected="" value="default">Default</option><option value="zh-CN">简体中文</option></select></div><div class="ptt" lang="en-US">Football Game</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 2000MS</td><td width="10px"></td><td colspan="3"><b>Memory Limit:</b> 131072K</td></tr><tr><td><b>Total Submissions:</b> 833</td><td width="10px"></td><td><b>Accepted:</b> 113</td><td width="10px"></td><td style="font-weight:bold; color:red;">Special Judge</td></tr></table></div><p class="pst">Description</p><div class="ptx" lang="en-US"><span lang="en-us"><p>Football fans from NJU and PKU ACM-ICPC teams are going to have a football match, with frkstyc as the referee due to his incompetence in sports (and Ikki says, “This is the fact.”). But because they are unable to find enough men to build up two 11-player teams for a full match, they have decided on a modified version of penalty shootout!</p><p>In a normal penalty shootout, the ball should always be put on the spot in the area before the taker tries his luck. Yet for these fans, this is far too unchallenging for the goalkeepers among them. Now the penalty takers are allowed more choices of positions for the ball – anywhere on a straight line segment that is chosen in advance.</p><p>Players tend to carefully choose the point to place the ball so that the field angle spanned by the goal with respect to the ball is as large as possible, hoping to have a better chance in hitting the bottom of the net. In real situations, to make the angle really the largest one seems to be impossible, for man’s perception works seemingly better with fuzziness than accuracy. But for you, a contestant in programming, this would not be too difficult for you have the computer before your eyes as an aid, provided that you are given the exact descriptions of the goal and the line segment for placing the ball.</p></span></div><p class="pst">Input</p><div class="ptx" lang="en-US"><script lang="text/javascript">function vec(v, a){var V = document.getElementById(v);var A = document.getElementById(a);	A.style.verticalAlign=V.offsetHeight/2;A.style.marginLeft=-(A.offsetWidth+V.offsetWidth)/2;A.style.marginRight=(V.offsetWidth-A.offsetWidth)/2;}</script><span lang="en-us"><p>The input contains multiple test cases. Each test case consists of a single line with the coordinates of four points <i>A</i>, <i>B</i>, <i>U</i> and <i>V</i> in the form <code>(</code><i>x</i><code>,</code><i>y</i><code>)</code> separated by spaces. The four points do not coincide with each other. <i>A</i> and <i>B</i> describe the goal. The two posts are located on <i>A</i> and <i>B</i>, and when looking along the vector <span id="AB1"><i>AB</i></span><span id="rarr1">→</span><script lang="text/javascript">vec("AB1","rarr1");</script>  while standing on <i>A</i>, one will find the goal facing his right hand side. <i>U</i> and <i>V</i> describe the line segment. When looking along the vector <span id="UV2"><i>UV</i></span><span id="rarr2">→</span><script lang="text/javascript">vec("UV2","rarr2");</script> while standing on <i>U</i>, one will find both <i>A</i> and <i>B</i> on his left hand side. It is possible that a portion of the segment lies off the pitch, where a play is also allowed. It is also possible that a portion of the segment lies behind the goal, where a play, however, is disallowed.</p><p>All coordinates consist of nonnegative integers not exceeding 10,000. End of file (EOF) indicates the end of input.</p></span></div><p class="pst">Output</p><div class="ptx" lang="en-US"><span lang="en-us"><p>For each test case, you have to find a point <i>P</i> on the segment <i>UV</i> from which the goal <i>AB</i> is visible in the front such that the angle ∠<i>APB</i> is maximized. If such <i>P</i> does not exist, the answer is assumed to be 0. Output the angle in degrees accurate to the third digit beyond the decimal point. An error within 0.001° is allowed.</p></span></div><p class="pst">Sample Input</p><pre class="sio">(36,89) (79,97) (11,88) (72,32)</pre><p class="pst">Sample Output</p><pre class="sio">56.167</pre><p class="pst">Hint</p><div class="ptx" lang="en-US"><span lang="en-us"><p>Illustration of the sample test case:</p><div align="center"><img src="../images/3223_1.png"/></div><p><i>BA</i> is extended to intersect <i>UV</i> at <i>R</i>. When a ball placed somewhere on <i>UR</i>, it lies behind the goal, therefore this is disallowed. Alternatively, it can be placed anywhere on <i>RV</i>. Among all possible positions, <i>P</i> maximizes the angle ∠<i>APB</i>. The coordinates of <i>P</i> are roughly (42.3679, 59.1950).</p></span></div><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="http://poj.org/searchproblem?field=source&amp;key=PKU+Local+2007+%28POJ+Monthly--2007.04.28%29">PKU Local 2007 (POJ Monthly--2007.04.28)</a>, frkstyc, text by Ikki</div></td></tr></table>
<font color="#333399" size="3"><p align="center">
[<a href="http://poj.org/submit?problem_id=3223">Submit</a>]  
 [<a href="javascript:history.go(-1)">Go Back</a>]   [<a href="http://poj.org/problemstatus?problem_id=3223">Status</a>]   
[<a href="http://poj.org/bbs?problem_id=3223">Discuss</a>]
</p></font>
<p><img border="0" height="30" src="../images/home.gif" width="40"/><font size="3"><a href="../index.html">Home Page</a> </font>  <img border="0" height="30" src="../images/goback.gif" width="40"/><font size="3"><a href="javascript:history.go(-1)">Go Back</a>  <img border="0" height="30" src="../images/top.gif" width="40"/><a href="http://poj.org#top">To top</a></font><br/></p><hr/><p align="center" style="font-family:Arial, Helvetica, sans-serif">All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br/>Any problem, Please <a href="mailto:webmaster@poj.org">Contact Administrator</a></p></body></html>
