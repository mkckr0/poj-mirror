<html><head><meta content="no-cache" http-equiv="Pragma"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta content="en-US" http-equiv="Content-Language"/><title>2183 -- Bovine Math Geniuses</title><link href="../poj.css" rel="stylesheet" type="text/css"/><link href="../poj.ico" rel="shortcut icon"/><link href="../poj.gif" rel="icon" type="image/gif"/><script language="javascript" src="../poj.js"></script></head><body alink="blue" lang="en-US" leftmargin="5" link="blue" onkeydown="KeyDown(event)" vlink="blue"><a name="top"></a><table border="1" bordercolor="#ffffff" style="BORDER-COLLAPSE: collapse" width="100%"><tbody><tr><td align="CENTER" colspan="5"><table cellpadding="0" class="h1"><tr><td align="left" width="25%"><img border="0" height="100" src="../images/logo1.jpg"/></td><td bgcolor="#EAEFFD" colspan="3"><table class="h2"><tr><td><img border="0" height="90" src="../images/logo0.gif" width="450"/></td><td width="95"><img border="0" height="95" src="../images/logo3.gif" width="95"/></td></tr></table></td></tr></table></td></tr><tr align="CENTER" bgcolor="#6589d1" valign="top"><th class="h">Online Judge</th><th class="h">Problem Set</th><th class="h">Authors</th><th class="h">Online Contests</th><th class="h">User</th></tr><tr align="CENTER" bgcolor="#f1f1fd" valign="top"><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><a href="http://poj.org/bbs">Web Board</a><br/><a href="../index.html">Home Page</a><br/><a href="../page/id_1000.html" target="_blank">F.A.Qs</a><br/><a href="http://poj.org/chart">Statistical Charts</a></td><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><form onsubmit="event.preventDefault(); let pid = (new FormData(event.target)).get('pid'); window.location=`../problem/id_${pid}.html`"><a href="../problemlist.html">Problems</a><br/><a href="http://poj.org/submit">Submit Problem</a><br/><a href="http://poj.org/status">Online Status</a><br/><font color="blue">Prob.ID:</font><input name="pid" size="6" type="text"/><input name="pb1" type="Submit" value="Go"/></form></td><td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="searchuser" method="GET"><a href="http://poj.org/register">Register</a><br/><a href="http://poj.org/modifyuser">Update your info</a><br/><a href="http://poj.org/userlist">Authors ranklist</a><br/><input name="key" size="10" type="text"/><input name="B1" type="Submit" value="Search"/></form></td>
<td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><font color="#1a5cc8">Current Contest</font><br/><a href="http://poj.org/pastcontests">Past Contests</a><br/><a href="http://poj.org/contests">Scheduled Contests</a><br/><a href="http://poj.org/challenge.html" target="_blank"><font color="red">Award Contest</font></a></td><td align="left" class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="login" method="POST"><table><tr><td>User ID:</td><td><input name="user_id1" size="10" style="font-family:monospace" type="text"/></td></tr><tr><td>Password:</td><td><input name="password1" size="10" style="font-family:monospace" type="password"/></td></tr></table><input name="B1" type="Submit" value="login"/>  <a href="http://poj.org/register" target="_parent">Register</a><input name="url" type="hidden" value="%2Fproblem%3Fid%3D2183"/></form></td></tr></tbody></table><table background="../images/table_back.jpg" border="0" width="100%"><tr><td>
<div style="position: absolute; right: 10px;">Language:<select onchange="window.location.href='problem?id=2183&amp;lang='+this.value+'&amp;change=true'" size="1"><option selected="" value="default">Default</option></select></div><div class="ptt" lang="en-US">Bovine Math Geniuses</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 1000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 65536K</td></tr><tr><td><b>Total Submissions:</b> 3448</td><td width="10px"></td><td><b>Accepted:</b> 2095</td></tr></table></div><p class="pst">Description</p><div class="ptx" lang="en-US">Farmer John loves to help the cows further their mathematical skills. He has promised them Hay-flavored ice cream if they can solve various mathematical problems.<br/> <br/>He said to Bessie, "Choose a six digit integer, and tell me what it is. Then extract the middle four digits. Square them and discard digits at the top until you have another number six digits or shorter. Tell me the result."<br/> <br/>Bessie, a mathematical genius in disguise, chose the six digit number 655554. "Moo: 6 5 5 5 5 4", she said. She then extracted the middle four digits:  5555 and squared them: 30858025. She kept only the bottom six digits:  858025. "Moo: 8 5 8 0 2 5", she replied to FJ.<br/> <br/>FJ nodded wisely, acknowledging Bessie's prowess in arithmetic.  "Now keep doing that until you encounter a number that repeats a number already seen," he requested.<br/> <br/>Bessie decided she'd better create a table to keep everything straight:<br/><pre><br/>              Middle    Middle   Shrunk to<br/>       Num   4 digits   square   6 or fewer<br/>     655554    5555    30858025    858025<br/>     858025    5802    33663204    663204<br/>     663204    6320    39942400    942400<br/>     942400    4240    17977600    977600<br/>     977600    7760    60217600    217600 &lt;-+<br/>     217600    1760     3097600     97600   |<br/>      97600    9760    95257600    257600   |<br/>     257600    5760    33177600    177600   |<br/>     177600    7760    60217600    217600 --+</pre> <br/>Bessie showed her table to FJ who smiled and produced a big dish of delicious hay ice cream.  "That's right, Bessie," he praised. "The chain repeats in a loop of four numbers, of which the first encountered was 217600.  The loop was detected after nine iterations."<br/> <br/>Help the other cows win ice cream treats.  Given a six digit number, calculate the total number of iterations to detect a loop, the first looping number encountered, and also the length of the loop.<br/> <br/>FJ wondered if Bessie knew all the tricks. He had made a table to help her, but she never asked:<br/><pre><br/>              Middle    Middle   Shrunk to<br/>       Num   4 digits   square   6 or fewer<br/>     200023    0002       4        4<br/>          4       0       0        0<br/>          0       0       0        0         [a self-loop]</pre> <br/>whose results would be: three iterations to detect a loop, looping on 0, and a length of loop equal to 1.<br/> <br/>Remember: Your program can use no more than 16MB of memory.<br/></div><p class="pst">Input</p><div class="ptx" lang="en-US">* Line 1: A single six digit integer that is the start of the sequence testing.<br/></div><p class="pst">Output</p><div class="ptx" lang="en-US">* Line 1: Three space-separated integers: the first number of a loop, the length of the loop, and the minimum number of iterations to detect the loop.<br/></div><p class="pst">Sample Input</p><pre class="sio">655554
</pre><p class="pst">Sample Output</p><pre class="sio">217600 4 9
</pre><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="http://poj.org/searchproblem?field=source&amp;key=USACO+2003+U+S+Open+Orange">USACO 2003 U S Open Orange</a></div></td></tr></table>
<font color="#333399" size="3"><p align="center">
[<a href="http://poj.org/submit?problem_id=2183">Submit</a>]  
 [<a href="javascript:history.go(-1)">Go Back</a>]   [<a href="http://poj.org/problemstatus?problem_id=2183">Status</a>]   
[<a href="http://poj.org/bbs?problem_id=2183">Discuss</a>]
</p></font>
<p><img border="0" height="30" src="../images/home.gif" width="40"/><font size="3"><a href="../index.html">Home Page</a> </font>  <img border="0" height="30" src="../images/goback.gif" width="40"/><font size="3"><a href="javascript:history.go(-1)">Go Back</a>  <img border="0" height="30" src="../images/top.gif" width="40"/><a href="http://poj.org#top">To top</a></font><br/></p><hr/><p align="center" style="font-family:Arial, Helvetica, sans-serif">All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br/>Any problem, Please <a href="mailto:webmaster@poj.org">Contact Administrator</a></p></body></html>
