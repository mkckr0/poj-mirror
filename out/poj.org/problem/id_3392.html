<html><head><meta content="no-cache" http-equiv="Pragma"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta content="en-US" http-equiv="Content-Language"/><title>3392 -- Pitcher Rotation</title><link href="../poj.css" rel="stylesheet" type="text/css"/><link href="../poj.ico" rel="shortcut icon"/><link href="../poj.gif" rel="icon" type="image/gif"/><script language="javascript" src="../poj.js"></script></head><body alink="blue" lang="en-US" leftmargin="5" link="blue" onkeydown="KeyDown(event)" vlink="blue"><a name="top"></a><table border="1" bordercolor="#ffffff" style="BORDER-COLLAPSE: collapse" width="100%"><tbody><tr><td align="CENTER" colspan="5"><table cellpadding="0" class="h1"><tr><td align="left" width="25%"><img border="0" height="100" src="../images/logo1.jpg"/></td><td bgcolor="#EAEFFD" colspan="3"><table class="h2"><tr><td><img border="0" height="90" src="../images/logo0.gif" width="450"/></td><td width="95"><img border="0" height="95" src="../images/logo3.gif" width="95"/></td></tr></table></td></tr></table></td></tr><tr align="CENTER" bgcolor="#6589d1" valign="top"><th class="h">Online Judge</th><th class="h">Problem Set</th><th class="h">Authors</th><th class="h">Online Contests</th><th class="h">User</th></tr><tr align="CENTER" bgcolor="#f1f1fd" valign="top"><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><a href="http://poj.org/bbs">Web Board</a><br/><a href="../index.html">Home Page</a><br/><a href="../page/id_1000.html" target="_blank">F.A.Qs</a><br/><a href="http://poj.org/chart">Statistical Charts</a></td><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><form onsubmit="event.preventDefault(); let pid = (new FormData(event.target)).get('pid'); window.location=`../problem/id_${pid}.html`"><a href="../problemlist.html">Problems</a><br/><a href="http://poj.org/submit">Submit Problem</a><br/><a href="http://poj.org/status">Online Status</a><br/><font color="blue">Prob.ID:</font><input name="pid" size="6" type="text"/><input name="pb1" type="Submit" value="Go"/></form></td><td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="searchuser" method="GET"><a href="http://poj.org/register">Register</a><br/><a href="http://poj.org/modifyuser">Update your info</a><br/><a href="http://poj.org/userlist">Authors ranklist</a><br/><input name="key" size="10" type="text"/><input name="B1" type="Submit" value="Search"/></form></td>
<td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><font color="#1a5cc8">Current Contest</font><br/><a href="http://poj.org/pastcontests">Past Contests</a><br/><a href="http://poj.org/contests">Scheduled Contests</a><br/><a href="http://poj.org/challenge.html" target="_blank"><font color="red">Award Contest</font></a></td><td align="left" class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="login" method="POST"><table><tr><td>User ID:</td><td><input name="user_id1" size="10" style="font-family:monospace" type="text"/></td></tr><tr><td>Password:</td><td><input name="password1" size="10" style="font-family:monospace" type="password"/></td></tr></table><input name="B1" type="Submit" value="login"/>  <a href="http://poj.org/register" target="_parent">Register</a><input name="url" type="hidden" value="%2Fproblem%3Fid%3D3392"/></form></td></tr></tbody></table><table background="../images/table_back.jpg" border="0" width="100%"><tr><td>
<div style="position: absolute; right: 10px;">Language:<select onchange="window.location.href='problem?id=3392&amp;lang='+this.value+'&amp;change=true'" size="1"><option selected="" value="default">Default</option></select></div><div class="ptt" lang="en-US">Pitcher Rotation</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 5000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 65536K</td></tr><tr><td><b>Total Submissions:</b> 625</td><td width="10px"></td><td><b>Accepted:</b> 165</td></tr></table></div><p class="pst">Description</p><div class="ptx" lang="en-US"><p>For professional baseball team managers, it is an important task to decide the starting pitcher for each game. In the information era, massive data has been collected in professional sports. The manager knows the winning percentage of each pitcher against each team. Unfortunately, when playing against a certain team you cannot always pick the pitcher with the highest winning percentage against that team because there is a rule saying that after pitching a game the pitcher has to rest for at least four days. There are <i>n</i> pitchers (5 ≤ <i>n</i> ≤ 100), <i>m</i> opponent teams (3 ≤ <i>m</i> ≤ 30), and there are <i>g</i> (3 ≤ <i>g</i> ≤ 200) games in a season, and the season lasts for <i>g</i> + 10 days. Furthermore, there is at most one game per day. You are given an <i>m</i> by <i>n</i> matrix <i>P</i>, where an element in <i>P</i>, <i>P<sub>ij</sub></i>, denote the winning percentage of pitcher <i>j</i> against team <i>i</i>, and a list of <i>g</i> + 10 numbers, <i>d</i><sub>1</sub>, <i>d</i>2, …, <i>d<sub>g</sub></i><sub> + 10</sub>, to represent the schedule of the team, where <i>d<sub>i</sub></i> denotes the opponent team and <i>d<sub>i</sub></i> = 0 denotes that there is no game at the <i>i<sup>th</sup></i> day of the season. Your task is to decide the starting pitcher for each game so that the expected number of winning game is maximized.</p></div><p class="pst">Input</p><div class="ptx" lang="en-US"><p>The first line contains an integer <i>t</i> (1 ≤ <i>t</i> ≤ 5) indicating the number of teams that need your help. The data about these <i>t</i> teams follows. For each team, the first line contains the number of pitchers <i>n</i>, the number of opponent teams <i>m</i>, and the number of games in a season <i>g</i>. The next <i>m</i> lines contains the information about winning percentage of each pitcher against each team; the first line is <i>p</i><sub>11</sub>, <i>p</i><sub>12</sub>, …, <i>p</i><sub>1<i>n</i></sub>, and the <i>i<sup>th</sup></i> line is <i>p<sub>i</sub></i><sub>1</sub>, <i>p<sub>i</sub></i><sub>2</sub>, …, <i>p<sub>in</sub></i>, where each <i>p<sub>ij</sub></i> is a two-digit number (for example, 92 represents 0.92). The next <i>g</i> + 10 lines describe the schedule of the season, <i>d</i><sub>1</sub>, <i>d</i><sub>2</sub>, …, <i>d<sub>g</sub></i><sub> + 10</sub>.</p></div><p class="pst">Output</p><div class="ptx" lang="en-US"><p>The maximum value with exactly two digits past the decimal point of expected game won for these <i>t</i> teams in the order of their appearance in the input file, output the answer for each team in separated lines.</p></div><p class="pst">Sample Input</p><pre class="sio">1
5 3 6
91 90 50 50 50
65 40 60 60 60
66 40 60 60 60
1
2
3
3
2
1
0
0
0
0
0
0
0
0
0
0</pre><p class="pst">Sample Output</p><pre class="sio">4.26</pre><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="http://poj.org/searchproblem?field=source&amp;key=Kaohsiung+2006">Kaohsiung 2006</a></div></td></tr></table>
<font color="#333399" size="3"><p align="center">
[<a href="http://poj.org/submit?problem_id=3392">Submit</a>]  
 [<a href="javascript:history.go(-1)">Go Back</a>]   [<a href="http://poj.org/problemstatus?problem_id=3392">Status</a>]   
[<a href="http://poj.org/bbs?problem_id=3392">Discuss</a>]
</p></font>
<p><img border="0" height="30" src="../images/home.gif" width="40"/><font size="3"><a href="../index.html">Home Page</a> </font>  <img border="0" height="30" src="../images/goback.gif" width="40"/><font size="3"><a href="javascript:history.go(-1)">Go Back</a>  <img border="0" height="30" src="../images/top.gif" width="40"/><a href="http://poj.org#top">To top</a></font><br/></p><hr/><p align="center" style="font-family:Arial, Helvetica, sans-serif">All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br/>Any problem, Please <a href="mailto:webmaster@poj.org">Contact Administrator</a></p></body></html>
