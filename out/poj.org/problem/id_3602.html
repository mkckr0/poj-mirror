<html><head><meta content="no-cache" http-equiv="Pragma"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta content="en-US" http-equiv="Content-Language"/><title>3602 -- Typographical Ligatures</title><link href="../poj.css" rel="stylesheet" type="text/css"/><link href="../poj.ico" rel="shortcut icon"/><link href="../poj.gif" rel="icon" type="image/gif"/><script language="javascript" src="../poj.js"></script></head><body alink="blue" lang="en-US" leftmargin="5" link="blue" onkeydown="KeyDown(event)" vlink="blue"><a name="top"></a><table border="1" bordercolor="#ffffff" style="BORDER-COLLAPSE: collapse" width="100%"><tbody><tr><td align="CENTER" colspan="5"><table cellpadding="0" class="h1"><tr><td align="left" width="25%"><img border="0" height="100" src="../images/logo1.jpg"/></td><td bgcolor="#EAEFFD" colspan="3"><table class="h2"><tr><td><img border="0" height="90" src="../images/logo0.gif" width="450"/></td><td width="95"><img border="0" height="95" src="../images/logo3.gif" width="95"/></td></tr></table></td></tr></table></td></tr><tr align="CENTER" bgcolor="#6589d1" valign="top"><th class="h">Online Judge</th><th class="h">Problem Set</th><th class="h">Authors</th><th class="h">Online Contests</th><th class="h">User</th></tr><tr align="CENTER" bgcolor="#f1f1fd" valign="top"><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><a href="http://poj.org/bbs">Web Board</a><br/><a href="../index.html">Home Page</a><br/><a href="../page/id_1000.html" target="_blank">F.A.Qs</a><br/><a href="http://poj.org/chart">Statistical Charts</a></td><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><form onsubmit="event.preventDefault(); let pid = (new FormData(event.target)).get('pid'); window.location=`../problem/id_${pid}.html`"><a href="../problemlist.html">Problems</a><br/><a href="http://poj.org/submit">Submit Problem</a><br/><a href="http://poj.org/status">Online Status</a><br/><font color="blue">Prob.ID:</font><input name="pid" size="6" type="text"/><input name="pb1" type="Submit" value="Go"/></form></td><td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="searchuser" method="GET"><a href="http://poj.org/register">Register</a><br/><a href="http://poj.org/modifyuser">Update your info</a><br/><a href="http://poj.org/userlist">Authors ranklist</a><br/><input name="key" size="10" type="text"/><input name="B1" type="Submit" value="Search"/></form></td>
<td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><font color="#1a5cc8">Current Contest</font><br/><a href="http://poj.org/pastcontests">Past Contests</a><br/><a href="http://poj.org/contests">Scheduled Contests</a><br/><a href="http://poj.org/challenge.html" target="_blank"><font color="red">Award Contest</font></a></td><td align="left" class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="login" method="POST"><table><tr><td>User ID:</td><td><input name="user_id1" size="10" style="font-family:monospace" type="text"/></td></tr><tr><td>Password:</td><td><input name="password1" size="10" style="font-family:monospace" type="password"/></td></tr></table><input name="B1" type="Submit" value="login"/>  <a href="http://poj.org/register" target="_parent">Register</a><input name="url" type="hidden" value="%2Fproblem%3Fid%3D3602"/></form></td></tr></tbody></table><table background="../images/table_back.jpg" border="0" width="100%"><tr><td>
<div style="position: absolute; right: 10px;">Language:<select onchange="window.location.href='problem?id=3602&amp;lang='+this.value+'&amp;change=true'" size="1"><option selected="" value="default">Default</option></select></div><div class="ptt" lang="en-US">Typographical Ligatures</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 1000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 131072K</td></tr><tr><td><b>Total Submissions:</b> 1326</td><td width="10px"></td><td><b>Accepted:</b> 577</td></tr></table></div><p class="pst">Description</p><div class="ptx" lang="en-US"><p>Typesetting involves the presentation of textual material in graphic form on paper or some other medium. Close as it is related to our daily life, typesetting exhibits certain complexities which may be unfamiliar and sometimes unimaginable to the layman. The use of typographical ligatures is one such complexity.</p><p>Compare the two appearances of the word “define” in Figure 7. Figure 7(a) illustrates the word typeset with the “fi” ligature as Knuth’s TeX does. The letters “f” and “i” are combined into a single glyph. Figure 7(b) shows the word typeset without the ligature as Microsoft Word does. The letters “f” and “i” remain separate. Other examples include the “ff”, “ffi”, “fl” and “ffl” ligatures, as shown in Figure 8. Perhaps the most notable ligature in active use is the “&amp;” (ampersand), which originated from “et”, the Latin word for “and”.</p><div align="center"><table><tr style="font-family: 'Palatino Linotype'; font-size: 36pt;"><td align="center">deﬁne</td><td style="width: 54pt;"></td><td align="center">def﻿ine</td></tr><tr style="font-size: 10pt;"><td align="center">(a)</td><td style="width: 54pt;"></td><td align="center">(b)</td></tr></table></div><p align="center">Figure 7: The word “define” typeset with and without the “fi” ligature</p><div align="center"><table><tr style="font-family: 'Palatino Linotype'; font-size: 25pt;"><td>eﬀect</td><td style="width: 27pt;"></td><td>oﬃce</td><td style="width: 27pt;"></td><td>reﬂect</td><td style="width: 27pt;"></td><td>waﬄe</td></tr></table></div><p align="center">Figure 8: Examples of the “ff”, “ffi”, “fl” and “ffl” ligatures</p><p>Ligatures are primarily intended to improve spacing between letters. Despite that their impact on legibility is debated and that their use is declining, some people insist that they are an essential part of quality typesetting. In order to typeset ligatures, separate glyphs have to be used since ligatures generally differ from direct combinations of their constituent letters in most cases.</p><p>Given some text, count the number of glyphs that have to be used to typeset it. Only the “ff”, “fi”, “ffi”, “fl”, and “ffl” ligatures are considered. Note that they are case-sensitive. Ligatures are recognized following the leftmost longest rule—find the leftmost match, then the longest match if there are any ties. Each distinct letter, ligature or punctuation mark requires a separate glyph. However, if a letter appears only in ligatures and nowhere else, it shall not be assigned a glyph. Furthermore, left single and double quotes differ from their right counterparts. Spaces do not require a glyph.</p></div><p class="pst">Input</p><div class="ptx" lang="en-US"><p>The input contains a single test case consisting of some text. The text is given on multiple lines not longer than 100 characters each. The text contains only letters (lowercase and uppercase), punctuation marks and spaces. Punctuation marks include periods, commas, semicolons, colons, single and double quotes, exclamation and question marks. Quotes are represented by “<tt>`</tt>” (left single quote), “<tt>'</tt>” (right single quote), “<tt>``</tt>” (left double quote) and “<tt>''</tt>” (right double quote), respectively. They are also recognized following the leftmost longest rule. The input ends where EOF is met.</p></div><p class="pst">Output</p><div class="ptx" lang="en-US"><p>Print the number of glyphs that have to be used to typeset the given text.</p></div><p class="pst">Sample Input</p><pre class="sio">```define, effect; office.
reflect? waffle!'''</pre><p class="pst">Sample Output</p><pre class="sio">23</pre><p class="pst">Hint</p><div class="ptx" lang="en-US"><p>The text in the sample is typeset as Figure 9. The 23 used glyphs are listed in Figure 10 in the order of their first appearances in Figure 9.</p><div align="center"><table><tr><td style="font-family: 'Palatino Linotype'; font-size: 25pt;">“‘deﬁne, eﬀect; oﬃce.<br/>reﬂect? waﬄe!”’</td></tr></table></div><p align="center">Figure 9: Result of typesetting the text in the sample</p><div align="center"><table style="border-collapse: collapse; font-family: 'Palatino Linotype'; font-size: 18pt;"><tr><td style="border: solid black 1pt;" width="12%">“</td><td style="border: solid black 1pt;" width="12%">‘</td><td style="border: solid black 1pt;" width="12%">d</td><td style="border: solid black 1pt;" width="12%">e</td><td style="border: solid black 1pt;" width="12%">ﬁ</td><td style="border: solid black 1pt;" width="12%">n</td><td style="border: solid black 1pt;" width="12%">,</td><td style="border: solid black 1pt;" width="12%">ﬀ</td></tr><tr><td style="border: solid black 1pt;" width="12%">c</td><td style="border: solid black 1pt;" width="12%">t</td><td style="border: solid black 1pt;" width="12%">;</td><td style="border: solid black 1pt;" width="12%">o</td><td style="border: solid black 1pt;" width="12%">ﬃ</td><td style="border: solid black 1pt;" width="12%">.</td><td style="border: solid black 1pt;" width="12%">r</td><td style="border: solid black 1pt;" width="12%">ﬂ</td></tr><tr><td style="border: solid black 1pt;" width="12%">?</td><td style="border: solid black 1pt;" width="12%">w</td><td style="border: solid black 1pt;" width="12%">a</td><td style="border: solid black 1pt;" width="12%">ﬄ</td><td style="border: solid black 1pt;" width="12%">!</td><td style="border: solid black 1pt;" width="12%">”</td><td style="border: solid black 1pt;" width="12%">’</td><td style="border: solid black 1pt;" width="12%"></td></tr></table></div><p align="center">Figure 10: Glyphs appearing in Figure 9</p></div><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="http://poj.org/searchproblem?field=source&amp;key=PKU+Campus+2008+%28POJ+Founder+Monthly+Contest+%E2%80%93+2008.05.10%29">PKU Campus 2008 (POJ Founder Monthly Contest – 2008.05.10)</a>, frkstyc</div></td></tr></table>
<font color="#333399" size="3"><p align="center">
[<a href="http://poj.org/submit?problem_id=3602">Submit</a>]  
 [<a href="javascript:history.go(-1)">Go Back</a>]   [<a href="http://poj.org/problemstatus?problem_id=3602">Status</a>]   
[<a href="http://poj.org/bbs?problem_id=3602">Discuss</a>]
</p></font>
<p><img border="0" height="30" src="../images/home.gif" width="40"/><font size="3"><a href="../index.html">Home Page</a> </font>  <img border="0" height="30" src="../images/goback.gif" width="40"/><font size="3"><a href="javascript:history.go(-1)">Go Back</a>  <img border="0" height="30" src="../images/top.gif" width="40"/><a href="http://poj.org#top">To top</a></font><br/></p><hr/><p align="center" style="font-family:Arial, Helvetica, sans-serif">All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br/>Any problem, Please <a href="mailto:webmaster@poj.org">Contact Administrator</a></p></body></html>
