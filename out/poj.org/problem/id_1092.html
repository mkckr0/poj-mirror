<html><head><meta content="no-cache" http-equiv="Pragma"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta content="en-US" http-equiv="Content-Language"/><title>1092 -- Farmland</title><link href="../poj.css" rel="stylesheet" type="text/css"/><link href="../poj.ico" rel="shortcut icon"/><link href="../poj.gif" rel="icon" type="image/gif"/><script language="javascript" src="../poj.js"></script></head><body alink="blue" lang="en-US" leftmargin="5" link="blue" onkeydown="KeyDown(event)" vlink="blue"><a name="top"></a><table border="1" bordercolor="#ffffff" style="BORDER-COLLAPSE: collapse" width="100%"><tbody><tr><td align="CENTER" colspan="5"><table cellpadding="0" class="h1"><tr><td align="left" width="25%"><img border="0" height="100" src="../images/logo1.jpg"/></td><td bgcolor="#EAEFFD" colspan="3"><table class="h2"><tr><td><img border="0" height="90" src="../images/logo0.gif" width="450"/></td><td width="95"><img border="0" height="95" src="../images/logo3.gif" width="95"/></td></tr></table></td></tr></table></td></tr><tr align="CENTER" bgcolor="#6589d1" valign="top"><th class="h">Online Judge</th><th class="h">Problem Set</th><th class="h">Authors</th><th class="h">Online Contests</th><th class="h">User</th></tr><tr align="CENTER" bgcolor="#f1f1fd" valign="top"><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><a href="http://poj.org/bbs">Web Board</a><br/><a href="../index.html">Home Page</a><br/><a href="../page/id_1000.html" target="_blank">F.A.Qs</a><br/><a href="http://poj.org/chart">Statistical Charts</a></td><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><form onsubmit="event.preventDefault(); let pid = (new FormData(event.target)).get('pid'); window.location=`../problem/id_${pid}.html`"><a href="../problemlist.html">Problems</a><br/><a href="http://poj.org/submit">Submit Problem</a><br/><a href="http://poj.org/status">Online Status</a><br/><font color="blue">Prob.ID:</font><input name="pid" size="6" type="text"/><input name="pb1" type="Submit" value="Go"/></form></td><td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="searchuser" method="GET"><a href="http://poj.org/register">Register</a><br/><a href="http://poj.org/modifyuser">Update your info</a><br/><a href="http://poj.org/userlist">Authors ranklist</a><br/><input name="key" size="10" type="text"/><input name="B1" type="Submit" value="Search"/></form></td>
<td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><font color="#1a5cc8">Current Contest</font><br/><a href="http://poj.org/pastcontests">Past Contests</a><br/><a href="http://poj.org/contests">Scheduled Contests</a><br/><a href="http://poj.org/challenge.html" target="_blank"><font color="red">Award Contest</font></a></td><td align="left" class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="login" method="POST"><table><tr><td>User ID:</td><td><input name="user_id1" size="10" style="font-family:monospace" type="text"/></td></tr><tr><td>Password:</td><td><input name="password1" size="10" style="font-family:monospace" type="password"/></td></tr></table><input name="B1" type="Submit" value="login"/>  <a href="http://poj.org/register" target="_parent">Register</a><input name="url" type="hidden" value="%2Fproblem%3Fid%3D1092"/></form></td></tr></tbody></table><table background="../images/table_back.jpg" border="0" width="100%"><tr><td>
<div style="position: absolute; right: 10px;">Language:<select onchange="window.location.href='problem?id=1092&amp;lang='+this.value+'&amp;change=true'" size="1"><option selected="" value="default">Default</option></select></div><div class="ptt" lang="en-US">Farmland</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 1000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 65536K</td></tr><tr><td><b>Total Submissions:</b> 1546</td><td width="10px"></td><td><b>Accepted:</b> 551</td></tr></table></div><p class="pst">Description</p><div class="ptx" lang="en-US">We have a map for farming land in a country. The whole farming land of the  country is divided into a set of disjoint farming regions. Each farmer owns  only one farming region in this country. There is a boundary fence between two neighboring farming regions. The farmland map for this country can be represented in a plane graph. The following Figure-1 shows one example.<br/><center><img src="../images/1092/1092_1.jpg"/></center> <br/><center>Figure-1: Farmland graph G(V,E) </center> <br/>There are two types of edges, boundary edge and non-boundary edge. All edges of G(V,E) except (v8, v6) and (v11, v10) are boundary edges which are between two neighboring farming regions. The "proper farming region" in a Farmland graph is a closed region bounded by a simple cycle and it should not contain any vertices or edges inside. In this figure, the polygon &lt; v1,v9,v8,v7 &gt;is a proper farming region, and the region &lt; v2, v1, v7, v8 , v2, v5, v4, v3 &gt;is not a proper farming region since its boundary cycle is not simple. <br/>We assume that the farmland graph G(V,E) is a simple connected graph, which  does not allow self-loops (Figure-2 (a)) and parallel edges (Figure-2 (b)).Also in Farmland graph G(V,E), we do not consider the outer face of G(V,E).You can see that there are 2 proper farming regions in G(V,E) shown in Figure-1,namely &lt; v1,v9,v8,v7&gt; and &lt; v2,v3,v4,v5&gt;, since there are no vertices or edges inside. But the polygon&lt; v1,v7,v8,v2&gt; is not a proper farming region since vertex v3, v4, and v5 are located in that region. Similarly, the region <v9> is not a proper region because a vertex v10 is inside the region.A degenerate polygon &lt; v6, v8&gt; is not a proper region because it has no valid area inside. <br/><center><img src="../images/1092/1092_2.jpg"/></center> <br/><center>Figure-2: (a) self-loop &lt; v1,v1&gt; , and (b) 3 parallel edges { &lt; v1,v2&gt;,&lt; v1,v2&gt;, &lt; v1,v2&gt;}</center> <br/>There are other assumptions for input farmland graph data. <br/>  1. There is at least one proper farming region. <br/>  2. The position of each vertex in Farmland graph is distinct. <br/>  3. There is no edge crossing, which means the graph G(V,E) is a plane graph. <br/>  4. Farmland graph G(V,E) is simple and connected. <br/> <br/>Let us define the "size" of proper farming region. The size of proper farming region is the number of boundary edges of that region. For example, the size of the proper farming region &lt; v2,v3,v4,v5 &gt; is 4.<br/>The problem is to find the number of proper regions that have a specified size.If you are requested to find the number of proper regions with size of 4 in the graph given in Figure-1, you must answer that there are 2 proper regions whose sizes are 4 because farming regions &lt; v1,v9,v8,v7 &gt; and &lt; v2,v3,v4,v5 &gt;are proper regions and their sizes are 4. If there are no such regions, then you have to print 0.</v9></div><p class="pst">Input</p><div class="ptx" lang="en-US">The input consists of M test cases. The first line of the input contains a positive integer M, the number of test cases you are to solve. After the first line,input data for M cases follow. The first line of each test case contains a positive integer N (&gt;=3), the number of vertices. Each of the following N lines is of the form:   <center>i  x<sub>i</sub>  y<sub>i</sub>  d<sub>i</sub>  a1  a2  a3  .....  a<sub>di</sub> </center> <br/>"i" is the vertex number, xi and yi are the coordinate (xi, yi) of the vertex i, and di is the degree of the vertex i. The following { ai } are the adjacent vertices of the vertex i. The last line gives k, the size of proper regions that you have to count. <br/>Note that M, the number of cases in input is less than 10. N, the number of vertices of a given farmland graph is less than 200. All vertices are located on grid points of the 1000 x 1000 lattice grid. </div><p class="pst">Output</p><div class="ptx" lang="en-US">The output must contain M non-negative integers. Each line contains the answer n to the corresponding case of the input. </div><p class="pst">Sample Input</p><pre class="sio">2                  
12                    
1  2 6   3  9 7 2 
2  5 6   4  5 3 1 8   
3  3 5   2  4 2       
4  3 4   2  3 5       
5  4 4   2  4 2 
6  7 4   1  8 
7  2 3   2  8 1 
8  5 3   5  7 2 9 12 6 
9  1 2   3  11 8 1 
10 3 2   1  11 
11 2 1   3  10 9 12 
12 6 1   2  8 11 
4  
3                     
1  2 2   2  2 3 
2  1 1   2  1 3 
3  4 1   2  1 2 
4   </pre><p class="pst">Sample Output</p><pre class="sio">2
0</pre><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="http://poj.org/searchproblem?field=source&amp;key=Taejon+2001">Taejon 2001</a></div></td></tr></table>
<font color="#333399" size="3"><p align="center">
[<a href="http://poj.org/submit?problem_id=1092">Submit</a>]  
 [<a href="javascript:history.go(-1)">Go Back</a>]   [<a href="http://poj.org/problemstatus?problem_id=1092">Status</a>]   
[<a href="http://poj.org/bbs?problem_id=1092">Discuss</a>]
</p></font>
<p><img border="0" height="30" src="../images/home.gif" width="40"/><font size="3"><a href="../index.html">Home Page</a> </font>  <img border="0" height="30" src="../images/goback.gif" width="40"/><font size="3"><a href="javascript:history.go(-1)">Go Back</a>  <img border="0" height="30" src="../images/top.gif" width="40"/><a href="http://poj.org#top">To top</a></font><br/></p><hr/><p align="center" style="font-family:Arial, Helvetica, sans-serif">All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br/>Any problem, Please <a href="mailto:webmaster@poj.org">Contact Administrator</a></p></body></html>
