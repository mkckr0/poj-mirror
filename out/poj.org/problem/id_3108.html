<html><head><meta content="no-cache" http-equiv="Pragma"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta content="en-US" http-equiv="Content-Language"/><title>3108 -- Horn Clauses</title><link href="../poj.css" rel="stylesheet" type="text/css"/><link href="../poj.ico" rel="shortcut icon"/><link href="../poj.gif" rel="icon" type="image/gif"/><script language="javascript" src="../poj.js"></script></head><body alink="blue" lang="en-US" leftmargin="5" link="blue" onkeydown="KeyDown(event)" vlink="blue"><a name="top"></a><table border="1" bordercolor="#ffffff" style="BORDER-COLLAPSE: collapse" width="100%"><tbody><tr><td align="CENTER" colspan="5"><table cellpadding="0" class="h1"><tr><td align="left" width="25%"><img border="0" height="100" src="../images/logo1.jpg"/></td><td bgcolor="#EAEFFD" colspan="3"><table class="h2"><tr><td><img border="0" height="90" src="../images/logo0.gif" width="450"/></td><td width="95"><img border="0" height="95" src="../images/logo3.gif" width="95"/></td></tr></table></td></tr></table></td></tr><tr align="CENTER" bgcolor="#6589d1" valign="top"><th class="h">Online Judge</th><th class="h">Problem Set</th><th class="h">Authors</th><th class="h">Online Contests</th><th class="h">User</th></tr><tr align="CENTER" bgcolor="#f1f1fd" valign="top"><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><a href="http://poj.org/bbs">Web Board</a><br/><a href="../index.html">Home Page</a><br/><a href="../page/id_1000.html" target="_blank">F.A.Qs</a><br/><a href="http://poj.org/chart">Statistical Charts</a></td><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><form onsubmit="event.preventDefault(); let pid = (new FormData(event.target)).get('pid'); window.location=`../problem/id_${pid}.html`"><a href="../problemlist.html">Problems</a><br/><a href="http://poj.org/submit">Submit Problem</a><br/><a href="http://poj.org/status">Online Status</a><br/><font color="blue">Prob.ID:</font><input name="pid" size="6" type="text"/><input name="pb1" type="Submit" value="Go"/></form></td><td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="searchuser" method="GET"><a href="http://poj.org/register">Register</a><br/><a href="http://poj.org/modifyuser">Update your info</a><br/><a href="http://poj.org/userlist">Authors ranklist</a><br/><input name="key" size="10" type="text"/><input name="B1" type="Submit" value="Search"/></form></td>
<td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><font color="#1a5cc8">Current Contest</font><br/><a href="http://poj.org/pastcontests">Past Contests</a><br/><a href="http://poj.org/contests">Scheduled Contests</a><br/><a href="http://poj.org/challenge.html" target="_blank"><font color="red">Award Contest</font></a></td><td align="left" class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="login" method="POST"><table><tr><td>User ID:</td><td><input name="user_id1" size="10" style="font-family:monospace" type="text"/></td></tr><tr><td>Password:</td><td><input name="password1" size="10" style="font-family:monospace" type="password"/></td></tr></table><input name="B1" type="Submit" value="login"/>  <a href="http://poj.org/register" target="_parent">Register</a><input name="url" type="hidden" value="%2Fproblem%3Fid%3D3108"/></form></td></tr></tbody></table><table background="../images/table_back.jpg" border="0" width="100%"><tr><td>
<div style="position: absolute; right: 10px;">Language:<select onchange="window.location.href='problem?id=3108&amp;lang='+this.value+'&amp;change=true'" size="1"><option selected="" value="default">Default</option></select></div><div class="ptt" lang="en-US">Horn Clauses</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 2000MS</td><td width="10px"></td><td colspan="3"><b>Memory Limit:</b> 65536K</td></tr><tr><td><b>Total Submissions:</b> 438</td><td width="10px"></td><td><b>Accepted:</b> 76</td><td width="10px"></td><td style="font-weight:bold; color:red;">Special Judge</td></tr></table></div><p class="pst">Description</p><div class="ptx" lang="en-US"><span lang="en-us"><p>Consider some set of boolean variables and a boolean formula. A set of values for the variables is called <i>satisfying</i> if the formula evaluates to true after replacing the variables by the corresponding values. A formula is called <i>unsatisfiable</i> if there exist no such set.</p><p>In general, there is no known algorithm finding the satisfying set of values in polynomial time, although it is not yet proved that such algorithm does not exist. The same holds for determining whether the given formula is unsatisfiable. Despite this there are some particular classes of boolean formulae for which the problem of satisfiability and unsatisfiability can be solved in polynomial time. Now we will define one of such classes, and your task will be to create polynomial time algorithm for it.</p><p>A <i>Horn claus</i>e is a boolean formula, constructed according to the rules below. Let <i>x</i> be a variable from the set. Then a <i>literal</i> is a boolean expression which consists only of the variable by itself or of the variable negation: either <i>x</i> (<i>positive</i> literal) or ¬x (<i>negative</i> literal). A <i>clause</i> is a disjunction of one or more literals. A <i>Horn clause</i> is a clause with at most one positive literal.</p><p>Consider some Horn clause ¬<i>n</i><sub>1</sub>∨¬<i>n</i><sub>2</sub>∨…∨¬<i>n<sub>k</sub></i> ∨<i>p</i>. It would be more convenient to replace disjunctions with implication: (<i>n</i><sub>1</sub>∧<i>n</i><sub>2</sub>∧…∧<i>n<sub>k</sub></i>)⇒<i>p</i>.</p><p>For consistency, when <i>succedent</i> (the right part of the implication) is empty we will imagine that there is a constant <code>false</code> specified instead; similarly empty <i>antecedent</i> (the left part of the implication) is supposed to be <code>true</code>.</p><p>Consider a formula which is a conjunction of one or more Horn clauses. In this particular case, satisfiability and unsatisfiability problems can be solved by polynomial time algorithms. Write a program that would do it.</p></span></div><p class="pst">Input</p><div class="ptx" lang="en-US"><span lang="en-us"><p>The file consists of formulae, written according to the following BNF. Here [‹expression›] means that expression may be omitted, {‹expression›} means that expression may occur zero or more times. Characters in quotes denote themselves.</p><div align="center"><table bordercolor="#000000"><tr><td align="right">‹char›</td><td align="center" width="10%"><span lang="en-us">→</span></td><td><span lang="en-us">‘<code>A</code>’ | ‘<code>B</code>’ | … | ‘<code>Z</code>’</span></td></tr><tr><td align="right">‹variable›</td><td align="center" width="10%"><span lang="en-us">→</span></td><td><span lang="en-us">‹char› {‹char›}</span></td></tr><tr><td align="right">‹horn-clause›</td><td align="center" width="10%"><span lang="en-us">→</span></td><td><span lang="en-us">‘<code>(</code>’ [‹variable› {‘<code>&amp;</code>’ ‹variable›}] ‘<code>=&gt;</code>’ ‹variable› ‘<code>)</code>’</span></td></tr><tr><td align="right"></td><td align="center" width="10%">|</td><td><span lang="en-us">‘<code>(</code>’ ‹variable› {‘<code>&amp;</code>’ ‹variable›} ‘<code>=&gt;</code>’ [‹variable›] ‘<code>)</code>’</span></td></tr><tr><td align="right">‹formula›</td><td align="center" width="10%"><span lang="en-us">→</span></td><td><span lang="en-us">‹horn-clause› {‘<code>&amp;</code>’ ‹horn-clause›}</span></td></tr></table></div><p>Each formula is specified in a separate line. The total length of the input file does not exceed 20 000 characters.</p></span></div><p class="pst">Output</p><div class="ptx" lang="en-US"><span lang="en-us"><p>Your output must contain either the set of variables with their values that satisfy the corresponding formulae, or word “<code>unsatisfiable</code>”. The variables may be specified in arbitrary order; the value for each variable must be specified exactly once. If there is more than one satisfying set, output any one.</p></span></div><p class="pst">Sample Input</p><pre class="sio">(A&amp;B&amp;C=&gt;QQQQ)&amp;(=&gt;A)
(A=&gt;)&amp;(=&gt;A)</pre><p class="pst">Sample Output</p><pre class="sio">A=true,C=false,B=false,QQQQ=false
unsatisfiable</pre><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="http://poj.org/searchproblem?field=source&amp;key=Northeastern+Europe+2005">Northeastern Europe 2005</a>, Northern Subregion</div></td></tr></table>
<font color="#333399" size="3"><p align="center">
[<a href="http://poj.org/submit?problem_id=3108">Submit</a>]  
 [<a href="javascript:history.go(-1)">Go Back</a>]   [<a href="http://poj.org/problemstatus?problem_id=3108">Status</a>]   
[<a href="http://poj.org/bbs?problem_id=3108">Discuss</a>]
</p></font>
<p><img border="0" height="30" src="../images/home.gif" width="40"/><font size="3"><a href="../index.html">Home Page</a> </font>  <img border="0" height="30" src="../images/goback.gif" width="40"/><font size="3"><a href="javascript:history.go(-1)">Go Back</a>  <img border="0" height="30" src="../images/top.gif" width="40"/><a href="http://poj.org#top">To top</a></font><br/></p><hr/><p align="center" style="font-family:Arial, Helvetica, sans-serif">All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br/>Any problem, Please <a href="mailto:webmaster@poj.org">Contact Administrator</a></p></body></html>
