<html><head><meta content="no-cache" http-equiv="Pragma"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta content="en-US" http-equiv="Content-Language"/><title>2824 -- Bohemian Rhapsody</title><link href="../poj.css" rel="stylesheet" type="text/css"/><link href="../poj.ico" rel="shortcut icon"/><link href="../poj.gif" rel="icon" type="image/gif"/><script language="javascript" src="../poj.js"></script></head><body alink="blue" lang="en-US" leftmargin="5" link="blue" onkeydown="KeyDown(event)" vlink="blue"><a name="top"></a><table border="1" bordercolor="#ffffff" style="BORDER-COLLAPSE: collapse" width="100%"><tbody><tr><td align="CENTER" colspan="5"><table cellpadding="0" class="h1"><tr><td align="left" width="25%"><img border="0" height="100" src="../images/logo1.jpg"/></td><td bgcolor="#EAEFFD" colspan="3"><table class="h2"><tr><td><img border="0" height="90" src="../images/logo0.gif" width="450"/></td><td width="95"><img border="0" height="95" src="../images/logo3.gif" width="95"/></td></tr></table></td></tr></table></td></tr><tr align="CENTER" bgcolor="#6589d1" valign="top"><th class="h">Online Judge</th><th class="h">Problem Set</th><th class="h">Authors</th><th class="h">Online Contests</th><th class="h">User</th></tr><tr align="CENTER" bgcolor="#f1f1fd" valign="top"><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><a href="http://poj.org/bbs">Web Board</a><br/><a href="../index.html">Home Page</a><br/><a href="../page/id_1000.html" target="_blank">F.A.Qs</a><br/><a href="http://poj.org/chart">Statistical Charts</a></td><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><form onsubmit="event.preventDefault(); let pid = (new FormData(event.target)).get('pid'); window.location=`../problem/id_${pid}.html`"><a href="../problemlist.html">Problems</a><br/><a href="http://poj.org/submit">Submit Problem</a><br/><a href="http://poj.org/status">Online Status</a><br/><font color="blue">Prob.ID:</font><input name="pid" size="6" type="text"/><input name="pb1" type="Submit" value="Go"/></form></td><td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="searchuser" method="GET"><a href="http://poj.org/register">Register</a><br/><a href="http://poj.org/modifyuser">Update your info</a><br/><a href="http://poj.org/userlist">Authors ranklist</a><br/><input name="key" size="10" type="text"/><input name="B1" type="Submit" value="Search"/></form></td>
<td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><font color="#1a5cc8">Current Contest</font><br/><a href="http://poj.org/pastcontests">Past Contests</a><br/><a href="http://poj.org/contests">Scheduled Contests</a><br/><a href="http://poj.org/challenge.html" target="_blank"><font color="red">Award Contest</font></a></td><td align="left" class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="login" method="POST"><table><tr><td>User ID:</td><td><input name="user_id1" size="10" style="font-family:monospace" type="text"/></td></tr><tr><td>Password:</td><td><input name="password1" size="10" style="font-family:monospace" type="password"/></td></tr></table><input name="B1" type="Submit" value="login"/>  <a href="http://poj.org/register" target="_parent">Register</a><input name="url" type="hidden" value="%2Fproblem%3Fid%3D2824"/></form></td></tr></tbody></table><table background="../images/table_back.jpg" border="0" width="100%"><tr><td>
<div style="position: absolute; right: 10px;">Language:<select onchange="window.location.href='problem?id=2824&amp;lang='+this.value+'&amp;change=true'" size="1"><option selected="" value="default">Default</option></select></div><div class="ptt" lang="en-US">Bohemian Rhapsody</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 6000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 65536K</td></tr><tr><td><b>Total Submissions:</b> 406</td><td width="10px"></td><td><b>Accepted:</b> 44</td></tr></table></div><p class="pst">Description</p><div class="ptx" lang="en-US"><div align="CENTER"><i><b>Is this the real life?<br/>Or is this just fantasy?<br/>Caught in a landslide<br/>No escape from reality<br/>Open your eyes<br/>Look up to the skies and see<br/>I'm just a poor boy, I need no sympathy<br/>Because I'm easy come, easy go<br/>A little high, little low<br/>Anyway the wind blows, doesn't really matter to me…</b></i></div><p>There used to be a gambling called Bohemian Gambling. At the beginning of the game, a unit circle was drawn on a piece of paper. Then a point (<i>x</i><sub>0</sub>, <i>y</i><sub>0</sub>) in the circle and <i>N</i> (1 ≤ <i>N</i> ≤ 1000) vectors (Δ<i>x<sub>i</sub></i>, Δ<i>y<sub>i</sub></i>) were randomly chosen. At the <i>i</i>-th step of the gambling, a player draw a segment from the point (<i>x</i><sub><i>i</i> − 1</sub>, <i>y</i><sub><i>i</i> − 1</sub>) to (<i>x<sub>i</sub></i>, <i>y<sub>i</sub></i>), where <i>x<sub>i</sub></i> = <i>x</i><sub><i>i</i> − 1</sub> + Δ<i>x<sub>i</sub></i> and <i>y<sub>i</sub></i> = <i>y</i><sub><i>i</i> − 1</sub> + Δ<i>y<sub>i</sub></i>. If (<i>x<sub>i</sub></i>, <i>y<sub>i</sub></i>) was outside the circle or on its boundary, the game ended; otherwise the player would win some money and go on to the next step of the gambling until all <i>N</i> lines had been drawn.<br/></p><p>As a predictor, Mercury had known all the vectors chosen for the gambling in advance, but he didn't know what the starting point would be. His clients asked him to find how much money they could win under average conditions, which meant the point would be chosen within the circle with uniformly distributed probability. They also wondered how much they could win if everything went the luckiest way. What would Mercury's reply to his clients be?</p></div><p class="pst">Input</p><div class="ptx" lang="en-US">The input consists of one or more data sets, followed by a last line containing a single zero. Each data set begins with a line containing an integer <i>N</i>, 1 ≤ <i>N</i> ≤ 500, which is the number of line segments that would be drawn. Then follow <i>N</i> lines, each containing two real numbers and an integer referring to Δ<i>x<sub>i</sub></i>, Δ<i>y<sub>i</sub></i> and the money that a player could win after the <i>i</i>-th step.</div><p class="pst">Output</p><div class="ptx" lang="en-US"><p>For each test case your program should output two lines. The first line gives a real number which indicates the money a player can win under average conditions and the second line an integer number which indicates the maximum amount of money he could win. Refer to the sample output for details.</p><p>The real numbers should be rounded to three digits after the decimal point.</p></div><p class="pst">Sample Input</p><pre class="sio">2 
1.0 1.0 100
-1.0 -1.0 50
0
</pre><p class="pst">Sample Output</p><pre class="sio">Case 1:
The expected amount of money: 27.254
The maximum amount of money: 150
</pre><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="http://poj.org/searchproblem?field=source&amp;key=POJ+Monthly--2006.04.28">POJ Monthly--2006.04.28</a>, TN@PKU_RPWT</div></td></tr></table>
<font color="#333399" size="3"><p align="center">
[<a href="http://poj.org/submit?problem_id=2824">Submit</a>]  
 [<a href="javascript:history.go(-1)">Go Back</a>]   [<a href="http://poj.org/problemstatus?problem_id=2824">Status</a>]   
[<a href="http://poj.org/bbs?problem_id=2824">Discuss</a>]
</p></font>
<p><img border="0" height="30" src="../images/home.gif" width="40"/><font size="3"><a href="../index.html">Home Page</a> </font>  <img border="0" height="30" src="../images/goback.gif" width="40"/><font size="3"><a href="javascript:history.go(-1)">Go Back</a>  <img border="0" height="30" src="../images/top.gif" width="40"/><a href="http://poj.org#top">To top</a></font><br/></p><hr/><p align="center" style="font-family:Arial, Helvetica, sans-serif">All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br/>Any problem, Please <a href="mailto:webmaster@poj.org">Contact Administrator</a></p></body></html>
