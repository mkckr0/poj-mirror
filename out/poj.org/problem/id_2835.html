<html><head><meta content="no-cache" http-equiv="Pragma"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta content="en-US" http-equiv="Content-Language"/><title>2835 -- Sunzi's Problem</title><link href="../poj.css" rel="stylesheet" type="text/css"/><link href="../poj.ico" rel="shortcut icon"/><link href="../poj.gif" rel="icon" type="image/gif"/><script language="javascript" src="../poj.js"></script></head><body alink="blue" lang="en-US" leftmargin="5" link="blue" onkeydown="KeyDown(event)" vlink="blue"><a name="top"></a><table border="1" bordercolor="#ffffff" style="BORDER-COLLAPSE: collapse" width="100%"><tbody><tr><td align="CENTER" colspan="5"><table cellpadding="0" class="h1"><tr><td align="left" width="25%"><img border="0" height="100" src="../images/logo1.jpg"/></td><td bgcolor="#EAEFFD" colspan="3"><table class="h2"><tr><td><img border="0" height="90" src="../images/logo0.gif" width="450"/></td><td width="95"><img border="0" height="95" src="../images/logo3.gif" width="95"/></td></tr></table></td></tr></table></td></tr><tr align="CENTER" bgcolor="#6589d1" valign="top"><th class="h">Online Judge</th><th class="h">Problem Set</th><th class="h">Authors</th><th class="h">Online Contests</th><th class="h">User</th></tr><tr align="CENTER" bgcolor="#f1f1fd" valign="top"><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><a href="http://poj.org/bbs">Web Board</a><br/><a href="../index.html">Home Page</a><br/><a href="../page/id_1000.html" target="_blank">F.A.Qs</a><br/><a href="http://poj.org/chart">Statistical Charts</a></td><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><form onsubmit="event.preventDefault(); let pid = (new FormData(event.target)).get('pid'); window.location=`../problem/id_${pid}.html`"><a href="../problemlist.html">Problems</a><br/><a href="http://poj.org/submit">Submit Problem</a><br/><a href="http://poj.org/status">Online Status</a><br/><font color="blue">Prob.ID:</font><input name="pid" size="6" type="text"/><input name="pb1" type="Submit" value="Go"/></form></td><td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="searchuser" method="GET"><a href="http://poj.org/register">Register</a><br/><a href="http://poj.org/modifyuser">Update your info</a><br/><a href="http://poj.org/userlist">Authors ranklist</a><br/><input name="key" size="10" type="text"/><input name="B1" type="Submit" value="Search"/></form></td>
<td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><font color="#1a5cc8">Current Contest</font><br/><a href="http://poj.org/pastcontests">Past Contests</a><br/><a href="http://poj.org/contests">Scheduled Contests</a><br/><a href="http://poj.org/challenge.html" target="_blank"><font color="red">Award Contest</font></a></td><td align="left" class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="login" method="POST"><table><tr><td>User ID:</td><td><input name="user_id1" size="10" style="font-family:monospace" type="text"/></td></tr><tr><td>Password:</td><td><input name="password1" size="10" style="font-family:monospace" type="password"/></td></tr></table><input name="B1" type="Submit" value="login"/>  <a href="http://poj.org/register" target="_parent">Register</a><input name="url" type="hidden" value="%2Fproblem%3Fid%3D2835"/></form></td></tr></tbody></table><table background="../images/table_back.jpg" border="0" width="100%"><tr><td>
<div style="position: absolute; right: 10px;">Language:<select onchange="window.location.href='problem?id=2835&amp;lang='+this.value+'&amp;change=true'" size="1"><option selected="" value="default">Default</option></select></div><div class="ptt" lang="en-US">Sunzi's Problem</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 1000MS</td><td width="10px"></td><td colspan="3"><b>Memory Limit:</b> 65536K</td></tr><tr><td><b>Total Submissions:</b> 785</td><td width="10px"></td><td><b>Accepted:</b> 92</td><td width="10px"></td><td style="font-weight:bold; color:red;">Special Judge</td></tr></table></div><p class="pst">Description</p><div class="ptx" lang="en-US"><span lang="en-us"><p>In the ancient work <i> Sunzi Suanjing</i> (<i>Master Sun’s Mathematical Manual</i>), the problem below was mentioned.</p><blockquote><p>“<i>We have a number of things, but we do not know exactly how many. If we count them by threes we have two left over. If we count them by fives we have three left over. If we count them by sevens we have two left over. How many things are there?</i>”</p></blockquote><p>Sunzi wrote in his work, “<i>The answer is twenty-three.</i>”</p><p>In 1592, Dawei Cheng put the solution to the problem as a poem in <i>Suanfa Tongzong</i> (<i>Systematic Treatise on Arithmetic</i>).</p><blockquote><p>“<i>Three septuagenarians walking together, ’tis rare!</i> <br/>“<i>Five plum trees with twenty one branches in flower,</i> <br/>“<i>Seven disciples gathering right by the half-moon,</i> <br/>“<i>One hundred and five taken away, lo the result shall appear!</i>”</p></blockquote><p>In modern notation, Sunzi’s problem is to find a number <i>x</i> such that</p><p align="center"><i>x</i> ≡ 2 (mod 3),<br/><i>x</i> ≡ 3 (mod 5),<br/><i>x</i> ≡ 2 (mod 7).</p><p>And Cheng’s solution is</p><p align="center"><i>x</i> ≡ 2 × 70 + 3 × 21 + 2 × 15 ≡ 233 (mod 105).</p><p>The solution also indicates that if one is given three integers <i>r</i><sub>1</sub>, <i>r</i><sub>2</sub>, <i>r</i><sub>3</sub> and is asked to find a number <i>x</i> such that</p><p align="center"><i>x</i> ≡ <i>r</i><sub>1</sub> (mod 3),<br/><i>x</i> ≡ <i>r</i><sub>2</sub> (mod 5),<br/><i>x</i> ≡ <i>r</i><sub>3</sub> (mod 7),</p><p>then the answer is</p><p align="center"><i>x</i> ≡ <i>r</i><sub>1</sub> × 70 + <i>r</i><sub>2</sub> × 21 + <i>r</i><sub>3</sub> × 15 (mod 105).</p><p>For example, for <i>r</i><sub>1</sub> = 1, <i>r</i><sub>2</sub> = 4, <i>r</i><sub>3</sub> = 4, the answer is</p><p align="center"><i>x</i> ≡ 1 × 70 + 4 × 21 + 4 × 15 ≡ 214 (mod 105).</p><p>In generalization, given <i>n</i> positive integers <i>a</i><sub>1</sub>, <i>a</i><sub>2</sub>, …, <i>a<sub>n</sub></i>, the problem is to determine whether there exist <i>n</i>  positive integers <i>b</i><sub>1</sub>, <i>b</i><sub>2</sub>, …, <i>b<sub>n</sub></i> such that for any positive integer <i>N</i>, let <i>p<sub>i</sub></i> (1 ≤ <i>i</i> ≤ <i>n</i>) be the remainder of <i>N</i> taken modulo <i>a<sub>i</sub></i> and <i>M</i> = <i>p</i><sub>1</sub> × <i>b</i><sub>1</sub> + <i>p</i><sub>2</sub> × <i>b</i><sub>2</sub> + … + <i>p<sub>n</sub></i> × <i>b<sub>n</sub></i>, then <i>M</i> ≡ <i>p<sub>i</sub></i> (mod <i>a<sub>i</sub></i>) for all <i>i</i> (1 ≤ <i>i</i> ≤ <i>n</i>); and to find a set of values of <i>b</i><sub>1</sub>, <i>b</i><sub>2</sub>, …, <i>b<sub>n</sub></i> if they exist.</p></span></div><p class="pst">Input</p><div class="ptx" lang="en-US"><span lang="en-us"><p>The input consists of multiple test cases. Each test case is given in one line. In each test case, given first is the integer <i>n</i> (1 ≤ <i>n</i> ≤ 10), which is followed by <i>a</i><sub>1</sub>, <i>a</i><sub>2</sub>, …, <i>a<sub>n</sub></i> (<i>a<sub>i</sub></i> ≤ 50, 1 ≤ <i>i</i> ≤ <i>n</i>). The last case, with <i>n</i> = 0, indicates the end of input and should not be processed.</p></span></div><p class="pst">Output</p><div class="ptx" lang="en-US"><span lang="en-us"><p>For each test case, output one line. If the positive integers <i>b</i><sub>1</sub>, <i>b</i><sub>2</sub>, …, <i>b<sub>n</sub></i>  exist, output them (none of them should be longer than 50 decimal digits) separated by single spaces. If there are multiple answers, output any one. Output “NO” if they do not exist.</p></span></div><p class="pst">Sample Input</p><pre class="sio">3 3 5 7
0</pre><p class="pst">Sample Output</p><pre class="sio">70 21 15</pre><p class="pst">Hint</p><div class="ptx" lang="en-US"><span lang="en-us"><p>Mind your program’s output format since special judge is used.</p></span></div><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="http://poj.org/searchproblem?field=source&amp;key=PKU+Local+2006">PKU Local 2006</a>, kicc</div></td></tr></table>
<font color="#333399" size="3"><p align="center">
[<a href="http://poj.org/submit?problem_id=2835">Submit</a>]  
 [<a href="javascript:history.go(-1)">Go Back</a>]   [<a href="http://poj.org/problemstatus?problem_id=2835">Status</a>]   
[<a href="http://poj.org/bbs?problem_id=2835">Discuss</a>]
</p></font>
<p><img border="0" height="30" src="../images/home.gif" width="40"/><font size="3"><a href="../index.html">Home Page</a> </font>  <img border="0" height="30" src="../images/goback.gif" width="40"/><font size="3"><a href="javascript:history.go(-1)">Go Back</a>  <img border="0" height="30" src="../images/top.gif" width="40"/><a href="http://poj.org#top">To top</a></font><br/></p><hr/><p align="center" style="font-family:Arial, Helvetica, sans-serif">All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br/>Any problem, Please <a href="mailto:webmaster@poj.org">Contact Administrator</a></p></body></html>
