<html><head><meta content="no-cache" http-equiv="Pragma"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><meta content="en-US" http-equiv="Content-Language"/><title>2219 -- Manifest Destiny</title><link href="../poj.css" rel="stylesheet" type="text/css"/><link href="../poj.ico" rel="shortcut icon"/><link href="../poj.gif" rel="icon" type="image/gif"/><script language="javascript" src="../poj.js"></script></head><body alink="blue" lang="en-US" leftmargin="5" link="blue" onkeydown="KeyDown(event)" vlink="blue"><a name="top"></a><table border="1" bordercolor="#ffffff" style="BORDER-COLLAPSE: collapse" width="100%"><tbody><tr><td align="CENTER" colspan="5"><table cellpadding="0" class="h1"><tr><td align="left" width="25%"><img border="0" height="100" src="../images/logo1.jpg"/></td><td bgcolor="#EAEFFD" colspan="3"><table class="h2"><tr><td><img border="0" height="90" src="../images/logo0.gif" width="450"/></td><td width="95"><img border="0" height="95" src="../images/logo3.gif" width="95"/></td></tr></table></td></tr></table></td></tr><tr align="CENTER" bgcolor="#6589d1" valign="top"><th class="h">Online Judge</th><th class="h">Problem Set</th><th class="h">Authors</th><th class="h">Online Contests</th><th class="h">User</th></tr><tr align="CENTER" bgcolor="#f1f1fd" valign="top"><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><a href="http://poj.org/bbs">Web Board</a><br/><a href="../index.html">Home Page</a><br/><a href="../page/id_1000.html" target="_blank">F.A.Qs</a><br/><a href="http://poj.org/chart">Statistical Charts</a></td><td class="h" onmouseout="scbg(this, 0)" onmouseover="scbg(this, 1)"><form onsubmit="event.preventDefault(); let pid = (new FormData(event.target)).get('pid'); window.location=`../problem/id_${pid}.html`"><a href="../problemlist.html">Problems</a><br/><a href="http://poj.org/submit">Submit Problem</a><br/><a href="http://poj.org/status">Online Status</a><br/><font color="blue">Prob.ID:</font><input name="pid" size="6" type="text"/><input name="pb1" type="Submit" value="Go"/></form></td><td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="searchuser" method="GET"><a href="http://poj.org/register">Register</a><br/><a href="http://poj.org/modifyuser">Update your info</a><br/><a href="http://poj.org/userlist">Authors ranklist</a><br/><input name="key" size="10" type="text"/><input name="B1" type="Submit" value="Search"/></form></td>
<td class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><font color="#1a5cc8">Current Contest</font><br/><a href="http://poj.org/pastcontests">Past Contests</a><br/><a href="http://poj.org/contests">Scheduled Contests</a><br/><a href="http://poj.org/challenge.html" target="_blank"><font color="red">Award Contest</font></a></td><td align="left" class="h" onmouseout="scbg(this,0)" onmouseover="scbg(this,1)"><form action="login" method="POST"><table><tr><td>User ID:</td><td><input name="user_id1" size="10" style="font-family:monospace" type="text"/></td></tr><tr><td>Password:</td><td><input name="password1" size="10" style="font-family:monospace" type="password"/></td></tr></table><input name="B1" type="Submit" value="login"/>  <a href="http://poj.org/register" target="_parent">Register</a><input name="url" type="hidden" value="%2Fproblem%3Fid%3D2219"/></form></td></tr></tbody></table><table background="../images/table_back.jpg" border="0" width="100%"><tr><td>
<div style="position: absolute; right: 10px;">Language:<select onchange="window.location.href='problem?id=2219&amp;lang='+this.value+'&amp;change=true'" size="1"><option selected="" value="default">Default</option></select></div><div class="ptt" lang="en-US">Manifest Destiny</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 1000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 65536K</td></tr><tr><td><b>Total Submissions:</b> 276</td><td width="10px"></td><td><b>Accepted:</b> 71</td></tr></table></div><p class="pst">Description</p><div class="ptx" lang="en-US">A group of colonists has landed on an uncharted island, looking for that special place to stop and settle. Unfortunately, there are already natives on the island, and now it's a race to see who will be able to survive. In order to settle, a group must find food. The settlers have not learned the arts of agriculture yet, so they will invariably eat all the food and have to move on. If any groups encounter each other, they will fight to the death, since resources are scarce. Your job is to determine who will be alive or dead at the end of N turns and where they are on the island. <br/> <br/>The island is a rectangular A x B matrix. Each square is either water, fields, or mountains. Settlers or native groups can only be located on fields (they can neither swim nor climb). Wheat grows in certain locations on the fields and is the only source of food for the groups. <br/> <br/>Each group is assigned an identifier and has a certain number of people in it. During each year (or turn), the surviving groups (those with one or more people alive) will perform an action. The group with the lowest identifier goes first, followed by the next lowest, until all groups have had their "turn." A group can only do one of the actions listed below. To determine which action a group does, they try to do the first action. If unable to do that action, the group will try the second action, and so forth until it finds an action that it can perform. Note that a group will always be able to do one of the following actions each turn: <br/><ol><li>If a group is adjacent to another group, they will attack (in the case of multiple adjacent tribes, the tribe will attack the first tribe it finds in a clockwise search starting at the northern square). <br/></li><li>If a group is adjacent to wheat, then the group will eat it and not move (if multiple wheat terrain squares are adjacent to the group, the wheat eaten will be the first encountered using a clockwise search starting from the terrain square to the north of the group). The wheat eaten will be reduced by the number of people in the group. If there are more people in the group than wheat, the next group of wheat in the clockwise search pattern will be eaten until either there is no more wheat in an adjacent terrain square or the total number of wheat units consumed equals the size of the group. Once wheat is completely consumed, the square that the wheat was in should be considered as a normal field. <br/></li><li>If a group was not adjacent to any wheat at the beginning of their turn, the group will search for food by moving one square to the North, East, South, or West (see below for moving requirements). If the group is unable to move, it will stay in its current location. </li></ol> <br/>At the end of each group's turn, the number of people in the group and anything they might have encountered is recalculated based on: <br/><ol><li>If the group ate this turn, the group will grow by 33% (rounded up) of the people that were able to eat. 5% (rounded up) of the people that did not eat will die due to starvation. <br/></li><li>If the group attacked another tribe, the group will kill an amount of people equal to its 'strength.' A group's strength is equal to 50% (rounded up) of its population. Because they are not eating while fighting, 10% (rounded up) of the group will die after the fighting is finished. Note that only the group attacking does damage; the other group will have to wait until its turn to retaliate, if it is able to. <br/></li><li>If a group moved to another square, 10% (rounded up) of the people in the group will die due to starvation and the rigors of travel. </li></ol> <br/>NOTE: When rounding, round the amount that will be added or subtracted from the group. Only use the cardinal points (N,S,E,W) when determining if a group is adjacent to something. <br/> <br/><b>Movement</b>: Whether a group is comprised of settlers or natives, moving on the island is highly ritualized. Each group follows a set of rules to determine which direction to move in order to find the perfect place to stop and make a (brief) home: <br/><ol><li>Each group remembers where it has been and determines which direction to go based on a point system. Points will be recalculated each turn as follows: <br/><ul><li>Assign each area adjacent to the group (considering cardinal directions only) a number of points equal to the number of times the group has entered that square. Note that if a group moves to and stays in a single square for multiple turns, it has only entered the square once. Starting the simulation in a particular terrain square also counts as entering that square once. <br/></li><li>Groups loath to turn around and go back the way they came, thus the last visited area shall be worth double the points calculated from above. </li></ul> <br/></li><li>The group will move in the direction with the lowest points. In case of a tie, the group will give priority to the tied direction appearing first in this list: North, East, South, West. </li></ol> <br/><ul><li>Since water and mountains are impassible, do not consider moving to terrain squares containing them!</li></ul></div><p class="pst">Input</p><div class="ptx" lang="en-US">Input to this problem will consist of a (non-empty) series of up to 100 data sets. Each data set will be formatted according to the following description, and there will be no blank lines separating data sets. <br/> <br/>A single data set has 3 components: <br/><ol><li>Start line - A single line, "START N", where N is a positive integer in the range 1 &lt;= N &lt;= 100 which indicated the number of years that must be calculated. <br/></li><li>Starting Map - A map showing the starting position. The map consists of a set of A lines, each describing B terrain squares. Note that the actual size of the A x B map is not given within the input set but will be in the range 1 to 20 inclusive. The terrain squares in each line are separated from one another by a single space, and each terrain square is a pair "identifier number." The identifier may be one of: <br/><ul>'.' - (period) Field, without wheat<br/>'w' - (lower-case) Field, with wheat<br/>'M' - (upper-case) Mountain<br/>'W' - (upper-case) Water<br/>'Z' - (upper-case) An integer in the range [0..n-1], where n is the number of groups on the map, and 1 &lt;= n &lt;= 10.<br/>This group identifier will be unique for each group on a given map. </ul> <br/>The number is an integer in the range [0,999], inclusive. It is only meaningful for groups (detailing how many people are left in that group), or wheat (which is the amount of wheat remaining). <br/></li><li>End line - A single line, "END" </li></ol> <br/></div><p class="pst">Output</p><div class="ptx" lang="en-US">For each data set, there will be exactly one output set, and there will be a single blank line separating output sets. <br/> <br/>A single output set consists of a series of lines, "GroupID Size Position YearDied", displayed in increasing order of GroupID, where: <br/><ul><li>GroupID - The group's identification number. <br/></li><li>Size - The size of the group at the end of N years. <br/></li><li>Position - The position, "(X,Y)" of the group at the end of N years. Where X indicates the column and Y the row, with (0,0) being the most North-West terrain square (the first terrain square in the first line of the StartingMap). <br/></li><li>YearDied - The year (or turn) in which this group died (size fell to 0), represented by a positive integer. If the group is still alive at the end of N years, this field will not be output. </li></ul> <br/></div><p class="pst">Sample Input</p><pre class="sio">START 5
W 000 W 000 W 000 W 000 W 000 W 000 W 000 W 000
W 000 W 000 . 000 . 000 2 060 . 000 w 345 W 000
W 000 . 000 . 000 . 000 . 000 . 000 . 000 W 000
W 000 1 140 . 000 . 000 0 050 . 000 . 000 W 000
W 000 W 000 . 000 M 000 M 000 . 000 . 000 W 000
W 000 W 000 w 200 M 000 M 000 . 000 3 025 W 000
W 000 W 000 . 000 . 000 . 000 . 000 . 000 W 000
W 000 W 000 . 000 . 000 . 000 . 000 . 000 W 000
W 000 W 000 . 000 w 115 w 115 . 000 . 000 W 000
W 000 W 000 W 000 W 000 W 000 W 000 W 000 W 000
END
START 3
. 000 2 100 . 000 . 000
0 100 1 050 . 000 . 000
. 000 . 000 . 000 . 000
. 000 . 000 . 000 . 000
END
</pre><p class="pst">Sample Output</p><pre class="sio">0 0 (4,2) 2
1 57 (4,1)
2 43 (5,1)
3 31 (6,2)

0 72 (1,0)
1 0 (1,1) 1
2 72 (3,1)
</pre><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="http://poj.org/searchproblem?field=source&amp;key=South+Central+USA+2001">South Central USA 2001</a></div></td></tr></table>
<font color="#333399" size="3"><p align="center">
[<a href="http://poj.org/submit?problem_id=2219">Submit</a>]  
 [<a href="javascript:history.go(-1)">Go Back</a>]   [<a href="http://poj.org/problemstatus?problem_id=2219">Status</a>]   
[<a href="http://poj.org/bbs?problem_id=2219">Discuss</a>]
</p></font>
<p><img border="0" height="30" src="../images/home.gif" width="40"/><font size="3"><a href="../index.html">Home Page</a> </font>  <img border="0" height="30" src="../images/goback.gif" width="40"/><font size="3"><a href="javascript:history.go(-1)">Go Back</a>  <img border="0" height="30" src="../images/top.gif" width="40"/><a href="http://poj.org#top">To top</a></font><br/></p><hr/><p align="center" style="font-family:Arial, Helvetica, sans-serif">All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br/>Any problem, Please <a href="mailto:webmaster@poj.org">Contact Administrator</a></p></body></html>
